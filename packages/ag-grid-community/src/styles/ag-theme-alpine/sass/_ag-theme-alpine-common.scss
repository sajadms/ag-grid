@import '../../ag-theme-base/sass/ag-theme-base';
@import './ag-theme-alpine-mixins';

@mixin ag-theme-alpine($params) {
    @include ag-grid-theme($params);
    .ag-cell,
    .ag-header-cell,
    .ag-header-group-cell {
        box-sizing: border-box;
    }

    .ag-root {
        border: 1px solid $chrome-border-color;
        border-radius: $border-radius;
    }

    .ag-header {
        border-bottom: 1px solid $chrome-border-color;
    }
    .ag-header-cell {
        border-color: $chrome-border-color;
    }

    .ag-ltr .ag-header-cell,
    .ag-ltr .ag-header-group-cell {
        border-right: 1px solid $chrome-border-color;
    }

    .ag-ltr .ag-cell {
        border-right: 1px solid $border-color;
    }

    .ag-cell.ag-column-hover {
        background-color: transparentize($alpine-blue-1, 0.97);
    }

    // basic filter menu
    .ag-filter {
        .ag-filter-body-wrapper {
            padding: $grid-size * 2;
            .ag-filter-select,
            .ag-filter-body,
            .ag-filter-filter {
                margin: 0;
            }

            .ag-filter-select,
            .ag-filter-body,
            .ag-filter-condition {
                &:not(:last-child) {
                    margin-bottom: $grid-size * 2;
                }
            }

            .ag-filter-filter {
                @extend %input-text;
            }

            .ag-filter-select {
                @extend %select;
            }

            .ag-input-wrapper {
                overflow: visible;
            }
        }

        .ag-filter-apply-panel {
            padding: 0;
            padding-top: $grid-size * 3;
            margin: $grid-size * 2;
            margin-top: 0;
            border-top: 1px solid $border-color;

            button {
                @extend %button;
            }

            button[ref='eClearButton'] {
                @extend %reset-button;
            }
        }

        .ag-filter-condition input[type='radio'] {
            @extend %radio-button;
        }

        .ag-filter-condition label {
            @extend %label;
            margin-right: $grid-size;
        }
    }

    .ag-menu {
        background: $alpine-gray-5;

        .ag-menu-list {
            padding: $grid-size * 2;
            margin: 0;

            .ag-menu-option > span {
                padding-top: $grid-size;
                padding-bottom: $grid-size;
            }
        }
    }

    ////////////////////////////////////////
    // Popup
    ////////////////////////////////////////
    &.ag-popup > div:not(.ag-tooltip-custom) {
        border: 1px solid $chrome-border-color;
        border-radius: $border-radius;
        box-shadow: 0 0 2px 0.1rem transparentize($alpine-gray-4, 0.6);
    }

    &.ag-dnd-ghost {
        box-shadow: 0 0 2px 0.1rem transparentize($alpine-gray-4, 0.6);
        border-radius: $border-radius;
    }

    ////////////////////////////////////////
    // Selection Checkbox
    ////////////////////////////////////////
    .ag-selection-checkbox input {
        @include checkbox;
    }

    ////////////////////////////////////////
    // Header Checkbox
    ////////////////////////////////////////
    .ag-checkbox {
        .ag-input-wrapper {
            overflow: visible;
        }

        input {
            @include checkbox;
        }
    }

    ////////////////////////////////////////
    // Header Checkbox
    ////////////////////////////////////////
    &.ag-popup .ag-tooltip {
        font-size: $tooltip-font-size;
        padding: $grid-size / 2 $grid-size;
    }

    ////////////////////////////////////////
    // Column Resize Handle
    ////////////////////////////////////////
    $resize-handle-color: transparentize($border-color, 0.2);
    .ag-header-cell-resize {
        box-sizing: border-box;
        right: 0;
        width: $grid-size;

        &::before {
            content: ' ';
            border-left: 1px solid $resize-handle-color;
            border-right: 1px solid $resize-handle-color;
            width: 3px;
            height: $header-height / 4;
            margin-top: $header-height * 3 / 2 / 4;
            display: block;
            transform: translateX($grid-size / 2 - 1);
        }
    }

    ////////////////////////////////////////
    // Pinned Containers
    ////////////////////////////////////////
    .ag-pinned-left-header,
    .ag-root:not(.ag-has-focus) .ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right) {
        border-right: 1px solid $chrome-border-color !important;
    }

    .ag-pinned-right-header {
        border-left-color: $chrome-border-color;
    }

    .ag-ltr .ag-pinned-right-header .ag-header-cell-resize {
        left: -1px;
    }

    .ag-ltr .ag-root:not(.ag-has-focus) .ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left) {
        border-left-color: $chrome-border-color;
    }

    ////////////////////////////////////////
    // Floating Filter
    ////////////////////////////////////////
    .ag-input-wrapper input:not([type]) {
        @extend %input-text;
        border-color: $form-element-border-color;
        font-size: smaller;
    }

    .ag-floating-filter-body {
        .ag-input-wrapper {
            overflow: visible;
        }
    }

    .ag-floating-filter-button {
        button {
            @include with-dropdown-arrow();
            @extend %button;
            background-position: right $grid-size / 2 top $grid-size / 2;
            padding: $grid-size - 1;
            padding-left: $grid-size - 1;
            height: $icon-size + $grid-size * 2 - 2;
            width: $icon-size + $grid-size * 5;
            border-radius: $border-radius;
            border: 1px solid $form-element-border-color;
            text-align: left;

            .ag-icon {
                color: $form-element-border-color;
            }

            &:active .ag-icon {
                color: $alpine-white;
            }
        }
    }
}
